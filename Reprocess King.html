<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVE Online Reprocess King</title>
    <link rel="stylesheet" href="Reprocess King.css">
</head>

<body>
    <div class="container">
        <h1>EVE Online Reprocess King</h1>
        <p class="subtitle">Paste the item list from EVE Online (e.g., from contracts, cargo scans) to find profitable
            reprocessing opportunities in Jita or elsewhere!</p>
        <p class="subtitle">
        1. Pick wether you want to use Jita Sell or Buy Prices
        </p>
        <p class="subtitle">
        2. Select or enter  your recovery rate for reprocessing
        </p>
        <p class="subtitle">
        3. Chose if you want to ignore consumables like Ammunition
        </p>
        <p class="subtitle">
        4. Select profitability ratio of mineral value to item value
        </p>
        <p class="subtitle">
        5. Enter the tax value of the station. You may also chose if the tax value is applied to the item, the minerals or both
        </p>
        <div class="input-area">
            <textarea id="input" rows="10" placeholder="Paste items here, one per line..."></textarea>
        </div>

        <div class="controls">
            <button onclick="calculate('buy')">Calculate (Buy Prices)</button>
            <button onclick="calculate('sell')">Calculate (Sell Prices)</button>
            <button onclick="resetAll()">Reset</button>
        </div>

        <div class="options">
            <div class="recovery-controls">
                <span>Recovery Rate:</span>
                <button id="btnRecovery906" onclick="setRecovery906()" aria-pressed="true">90.6%</button>
                <button id="btnRecovery50" onclick="setRecovery50()" aria-pressed="false">50%</button>
                <input type="number" id="recoveryCustom" step="0.1" min="0" max="100" placeholder="Custom %">
                <button id="btnRecoveryApply" onclick="applyCustomRecovery()">Apply</button>
            </div>
            <div class="toggles">
                <button id="toggleAmmoBtn" onclick="toggleIgnoreAmmo()" aria-pressed="false">Ignore Ammunition:
                    Off</button>
                <button id="toggleShowReprocessBtn" onclick="toggleShowOnlyReprocess()" aria-pressed="false">Show
                    Only Reprocess: Off</button>
            </div>
            <div class="ratio-filters">
                <span>Minimum Profitability Ratio:</span>
                <button id="btnRatioAll" onclick="setRatioFilter(0)" aria-pressed="true">All</button>
                <button id="btnRatio1" onclick="setRatioFilter(1)" aria-pressed="false">≥ 1x</button>
                <button id="btnRatio2" onclick="setRatioFilter(2)" aria-pressed="false">≥ 2x</button>
                <button id="btnRatio5" onclick="setRatioFilter(5)" aria-pressed="false">≥ 5x</button>
                <button id="btnRatio10" onclick="setRatioFilter(10)" aria-pressed="false">≥ 10x</button>
                <input type="number" id="ratioCustom" step="0.1" min="0" placeholder="Custom ≥">
                <button id="btnRatioApply" onclick="applyCustomRatioFilter()">Apply</button>
            </div>
            <div class="tax-controls">
                <span>Tax Rate:</span>
                <input type="number" id="taxRate" step="0.1" min="0" max="100" value="0">
                <button id="btnTaxApply" onclick="applyTaxRate()">Apply</button>
                <div class="tax-application-group">
                    <span>Tax on:</span>
                    <button id="tax-on-minerals" onclick="setTaxApplication('minerals')" aria-pressed="true">Minerals</button>
                    <button id="tax-on-item" onclick="setTaxApplication('item')" aria-pressed="false">Item</button>
                    <button id="tax-on-both" onclick="setTaxApplication('both')" aria-pressed="false">Both</button>
                </div>
            </div>
        </div>

        <div id="loading" class="loading-overlay" style="display: none;">
            <div class="spinner"></div>
            <p>Loading...</p>
        </div>

        <div id="output"></div>
    </div>

    <script src="Reprocess King.js"></script>
</body>

</html>